{
    "problem_id": "G",
    "contest_id": "1844",
    "name": "G. Tree Weights",
    "url": "https://codeforces.com/contest/1844/problem/G",
    "difficulty": "*3000",
    "tags": [
        "bitmasks",
        "constructivealgorithms",
        "datastructures",
        "dfsandsimilar",
        "implementation",
        "math",
        "matrices",
        "numbertheory",
        "trees"
    ],
    "time_limit": "5 seconds",
    "memory_limit": "256 megabytes",
    "input_specification": "Input\nThe first line contains a single integer n (2\u2264n\u2264105).\nThe i-th of the next n\u22121 lines contains two integers ui and vi (1\u2264ui,vi\u2264n, ui\u2260vi).\nThe last line contains n\u22121 integers d1,\u2026,dn\u22121 (1\u2264di\u22641012).\nIt is guaranteed that the given edges form a tree.",
    "output_specification": "Output\nIf there is no solution, print a single integer \u22121. Otherwise, output n\u22121 lines containing the weights w1,\u2026,wn\u22121.\nIf there are multiple solutions, print any of them.",
    "sample_tests": "Input\nCopy\n5\n1 2\n1 3\n2 4\n2 5\n31 41 59 26\nOutput\nCopy\n31\n10\n18\n8\nInput\nCopy\n3\n1 2\n1 3\n18 18\nOutput\nCopy\n-1\nInput\nCopy\n9\n3 1\n4 1\n5 9\n2 6\n5 3\n5 8\n9 7\n9 2\n236 205 72 125 178 216 214 117\nOutput\nCopy\n31\n41\n59\n26\n53\n58\n97\n93"
}