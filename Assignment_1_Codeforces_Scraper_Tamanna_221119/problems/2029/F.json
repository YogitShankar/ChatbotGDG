{
    "url": "https://codeforces.com/problemset/problem/2029/F",
    "title": "F. Palindrome Everywhere",
    "tags": [
        "constructive algorithms",
        "graphs",
        "greedy",
        "*2500"
    ],
    "content": "F. Palindrome Everywheretime limit per test2 secondsmemory limit per test512 megabytesinputstandard inputoutputstandard outputYou are given a cycle with \ud835\udc5bn vertices numbered from 00 to \ud835\udc5b\u22121n\u22121. For each 0\u2264\ud835\udc56\u2264\ud835\udc5b\u221210\u2264i\u2264n\u22121, there is an undirected edge between vertex \ud835\udc56i and vertex ((\ud835\udc56+1)mod\ud835\udc5b)((i+1)modn) with the color \ud835\udc50\ud835\udc56ci (\ud835\udc50\ud835\udc56=\ud835\ude81ci=R or \ud835\ude71B).Determine whether the following condition holds for every pair of vertices (\ud835\udc56,\ud835\udc57)(i,j) (0\u2264\ud835\udc56<\ud835\udc57\u2264\ud835\udc5b\u221210\u2264i<j\u2264n\u22121): There exists a palindrome route between vertex \ud835\udc56i and vertex \ud835\udc57j. Note that the route may not be simple. Formally, there must exist a sequence \ud835\udc5d=[\ud835\udc5d0,\ud835\udc5d1,\ud835\udc5d2,\u2026,\ud835\udc5d\ud835\udc5a]p=[p0,p1,p2,\u2026,pm] such that: \ud835\udc5d0=\ud835\udc56p0=i, \ud835\udc5d\ud835\udc5a=\ud835\udc57pm=j;  For each 0\u2264\ud835\udc65\u2264\ud835\udc5a\u221210\u2264x\u2264m\u22121, either \ud835\udc5d\ud835\udc65+1=(\ud835\udc5d\ud835\udc65+1)mod\ud835\udc5bpx+1=(px+1)modn or \ud835\udc5d\ud835\udc65+1=(\ud835\udc5d\ud835\udc65\u22121)mod\ud835\udc5bpx+1=(px\u22121)modn;  For each 0\u2264\ud835\udc65\u2264\ud835\udc66\u2264\ud835\udc5a\u221210\u2264x\u2264y\u2264m\u22121 satisfying \ud835\udc65+\ud835\udc66=\ud835\udc5a\u22121x+y=m\u22121, the edge between \ud835\udc5d\ud835\udc65px and \ud835\udc5d\ud835\udc65+1px+1 has the same color as the edge between \ud835\udc5d\ud835\udc66py and \ud835\udc5d\ud835\udc66+1py+1.InputEach test contains multiple test cases. The first line contains the number of test cases \ud835\udc61t (1\u2264\ud835\udc61\u22641051\u2264t\u2264105)\u00a0\u2014 the number of test cases. The description of the test cases follows.The first line of each test case contains an integer \ud835\udc5bn (3\u2264\ud835\udc5b\u22641063\u2264n\u2264106)\u00a0\u2014 the number of vertices in the cycle.The second line contains a string \ud835\udc50c of length \ud835\udc5bn (\ud835\udc50\ud835\udc56=\ud835\ude81ci=R or \ud835\ude71B)\u00a0\u2014 the color of each edge.It is guaranteed that the sum of \ud835\udc5bn over all test cases does not exceed 106106.OutputFor each test case, print \"YES\" (without quotes) if there is a palindrome route between any pair of nodes, and \"NO\" (without quotes) otherwise.You can output the answer in any case (upper or lower). For example, the strings \"yEs\", \"yes\", \"Yes\", and \"YES\" will be recognized as positive responses.ExampleInputCopy75RRRRR5RRRRB5RBBRB6RBRBRB6RRBBRB5RBRBR12RRBRRBRRBRRBOutputCopyYES\nYES\nYES\nNO\nNO\nYES\nNO\nNoteIn the first test case, it is easy to show that there is a palindrome route between any two vertices.In the second test case, for any two vertices, there exists a palindrome route with only red edges.In the third test case, the cycle is as follows: 0\u27f7\ud835\ude811\u27f7\ud835\ude712\u27f7\ud835\ude713\u27f7\ud835\ude814\u27f7\ud835\ude7100\u27f7R1\u27f7B2\u27f7B3\u27f7R4\u27f7B0. Take (\ud835\udc56,\ud835\udc57)=(0,3)(i,j)=(0,3) as an example, then 0\u27f6\ud835\ude811\u27f6\ud835\ude712\u27f6\ud835\ude713\u27f6\ud835\ude814\u27f6\ud835\ude710\u27f6\ud835\ude714\u27f6\ud835\ude8130\u27f6R1\u27f6B2\u27f6B3\u27f6R4\u27f6B0\u27f6B4\u27f6R3 is a palindrome route. Thus, the condition holds for (\ud835\udc56,\ud835\udc57)=(0,3)(i,j)=(0,3).In the fourth test case, when (\ud835\udc56,\ud835\udc57)=(0,2)(i,j)=(0,2), there does not exist a palindrome route...."
}