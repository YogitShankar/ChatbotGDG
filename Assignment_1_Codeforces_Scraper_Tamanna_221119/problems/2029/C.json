{
    "url": "https://codeforces.com/problemset/problem/2029/C",
    "title": "C. New Rating",
    "tags": [
        "binary search",
        "data structures",
        "dp",
        "greedy",
        "*1700"
    ],
    "content": "C. New Ratingtime limit per test2 secondsmemory limit per test512 megabytesinputstandard inputoutputstandard outputHello, Codeforces Forcescode!\u00a0Kevin used to be a participant of Codeforces. Recently, the KDOI Team has developed a new Online Judge called Forcescode. Kevin has participated in \ud835\udc5bn contests on Forcescode. In the \ud835\udc56i-th contest, his performance rating is \ud835\udc4e\ud835\udc56ai.Now he has hacked into the backend of Forcescode and will select an interval [\ud835\udc59,\ud835\udc5f][l,r] (1\u2264\ud835\udc59\u2264\ud835\udc5f\u2264\ud835\udc5b1\u2264l\u2264r\u2264n), then skip all of the contests in this interval. After that, his rating will be recalculated in the following way:  Initially, his rating is \ud835\udc65=0x=0;  For each 1\u2264\ud835\udc56\u2264\ud835\udc5b1\u2264i\u2264n, after the \ud835\udc56i-th contest,   If \ud835\udc59\u2264\ud835\udc56\u2264\ud835\udc5fl\u2264i\u2264r, this contest will be skipped, and the rating will remain unchanged;  Otherwise, his rating will be updated according to the following rules:   If \ud835\udc4e\ud835\udc56>\ud835\udc65ai>x, his rating \ud835\udc65x will increase by 11;  If \ud835\udc4e\ud835\udc56=\ud835\udc65ai=x, his rating \ud835\udc65x will remain unchanged;  If \ud835\udc4e\ud835\udc56<\ud835\udc65ai<x, his rating \ud835\udc65x will decrease by 11.   You have to help Kevin to find his maximum possible rating after the recalculation if he chooses the interval [\ud835\udc59,\ud835\udc5f][l,r] optimally. Note that Kevin has to skip at least one contest.InputEach test contains multiple test cases. The first line of the input contains a single integer \ud835\udc61t (1\u2264\ud835\udc61\u22645\u22c51041\u2264t\u22645\u22c5104)\u00a0\u2014 the number of test cases. The description of test cases follows.The first line of each test case contains a single integer \ud835\udc5bn (1\u2264\ud835\udc5b\u22643\u22c51051\u2264n\u22643\u22c5105)\u00a0\u2014 the number of contests.The second line contains \ud835\udc5bn integers \ud835\udc4e1,\ud835\udc4e2,\u2026,\ud835\udc4e\ud835\udc5ba1,a2,\u2026,an (1\u2264\ud835\udc4e\ud835\udc56\u2264\ud835\udc5b1\u2264ai\u2264n)\u00a0\u2014 the performance ratings in the contests.It is guaranteed that the sum of \ud835\udc5bn over all test cases does not exceed 3\u22c51053\u22c5105.OutputFor each test case, output a single integer\u00a0\u2014 the maximum possible rating after the recalculation if Kevin chooses the interval optimally.ExampleInputCopy561 2 3 4 5 671 2 1 1 1 3 41199 9 8 2 4 4 3 5 3101 2 3 4 1 3 2 1 1 10OutputCopy5\n4\n0\n4\n5\nNoteIn the first test case, Kevin must skip at least one contest. If he chooses any interval of length 11, his rating after the recalculation will be equal to 55.In the second test case, Kevin's optimal choice is to select the interval [3,5][3,5]. During the recalculation, his rating changes as follows:0\u2212\u2192\u2212\u2212\ud835\udc4e1=11\u2212\u2192\u2212\u2212\ud835\udc4e2=22\u2212\u2192\u2212\u2212\ud835\ude9c\ud835\ude94\ud835\ude92\ud835\ude992\u2212\u2192\u2212\u2212\ud835\ude9c\ud835\ude94\ud835\ude92\ud835\ude992\u2212\u2192\u2212\u2212\ud835\ude9c\ud835\ude94\ud835\ude92\ud835\ude992\u2212\u2192\u2212\u2212\ud835\udc4e6=33\u2212\u2192\u2212\u2212\ud835\udc4e7=440\u2192a1=11\u2192a2=22\u2192skip2\u2192skip2\u2192skip2\u2192a6=33\u2192a7=44In the third test case, Kevin must skip the only contest, so his rating will remain at the initial value of 00.In the fourth test case, Kevin's optimal choice is to select the interval [7,9][7,9]. During the recalculation, his rating changes as follows:0\u2212\u2192\u2212\u2212\ud835\udc4e1=91\u2212\u2192\u2212\u2212\ud835\udc4e2=92\u2212\u2192\u2212\u2212\ud835\udc4e3=83\u2212\u2192\u2212\u2212\ud835\udc4e4=22\u2212\u2192\u2212\u2212\ud835\udc4e5=43\u2212\u2192\u2212\u2212\ud835\udc4e6=44\u2212\u2192\u2212\u2212\ud835\ude9c\ud835\ude94\ud835\ude92\ud835\ude994\u2212\u2192\u2212\u2212\ud835\ude9c\ud835\ude94\ud835\ude92\ud835\ude994\u2212\u2192\u2212\u2212\ud835\ude9c\ud835\ude94\ud835\ude92\ud835\ude9940\u2192a1=91\u2192a2=92\u2192a3=83\u2192a4=22\u2192a5=43\u2192a6=44\u2192skip4\u2192skip4\u2192skip4In the fifth test case, Kevin's optimal choice is to select the interval [5,9][5,9]...."
}